!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);let o=0,r=0;const d=(()=>{const t=[],e=[],n=(t,e,n)=>({title:t,description:e,id:n}),d=t=>{return e.find(e=>e.id===t)},i=e=>{return t.find(t=>t.id===e)},c=e=>{for(let n=0;n<t.length;n++)if(t[n].id===e){t.splice(n,1);break}},a=()=>{return{title:document.getElementById("title").value,description:document.getElementById("description").value}},l=()=>{return{title:document.getElementById("title").value,description:document.getElementById("description").value,dueDate:document.getElementById("dueDate").value,priority:document.getElementById("priority").checked}};return e.push(n("default","default project",o++)),{projects:e,items:t,validateProjectForm:()=>{const t=document.forms.ProjectForm.title,e=document.forms.ProjectForm.description;return""==t.value?(window.alert("Please enter a title."),t.focus(),!1):""!=e.value||(window.alert("Please enter a description."),e.focus(),!1)},validateItemForm:()=>{const t=document.forms.ItemForm.title,e=document.forms.ItemForm.description,n=document.forms.ItemForm.dueDate;return""==t.value?(window.alert("Please enter a title."),t.focus(),!1):""==e.value?(window.alert("Please enter a description."),e.focus(),!1):""!=n.value||(window.alert("Please enter a due date."),n.focus(),!1)},createProject:()=>{const t=a(),r=n(t.title,t.description,o++);e.push(r)},createItem:e=>{const n=l(),o=((t,e,n,o,r,d)=>({title:t,description:e,dueDate:n,priority:o,projectId:r,id:d}))(n.title,n.description,n.dueDate,n.priority,e,r++);t.push(o)},getProject:d,getItems:e=>{return t.filter(t=>t.projectId===e)},getItem:i,updateProject:t=>{const e=d(t);e.title=document.getElementById("title").value,e.description=document.getElementById("description").value},updateItem:t=>{const e=i(t),n=l();e.title=n.title,e.description=n.description,e.data=n.dueDate,e.priority=n.priority},destroyProject:t=>{for(let n=0;n<e.length;n++)if(e[n].id===t){e.splice(n,1);break}},destroyItem:c,destroyProjectItems:e=>{t.forEach(t=>{t.projectId===e&&c(t.id)})},_getItemFormData:l}})(),i=(()=>{const t=document.querySelector(".main"),e=document.createElement("div"),n=document.createElement("ul"),o=()=>{const t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div");n.classList.add("new-item-btn"),n.textContent="+",o.classList.add("edit-project-btn"),o.textContent="Edit",r.classList.add("destroy-project-btn"),r.textContent="Delete",t.classList.add("project-buttons"),t.appendChild(o),t.appendChild(r),t.appendChild(n),e.appendChild(t)},r=()=>{n.classList.add("list"),e.classList.add("list-box"),e.appendChild(n),t.appendChild(e)},i=t=>{d.getItems(t).forEach(t=>c(t))},c=t=>{const e=document.createElement("li");e.classList.add("list-row"),e.dataset.itemId=t.id;const o=document.createElement("input");o.classList.add("item-done"),o.dataset.itemBox=t.id,o.type="checkbox";const r=document.createElement("span");r.classList.add("item-title"),r.dataset.itemTitle=t.id,r.textContent=t.title;const d=document.createElement("span");d.classList.add("item-date"),d.dataset.itemDate=t.id,d.textContent=t.dueDate;const i=document.createElement("div"),c=document.createElement("div"),a=[o,r,d,i,c];i.classList.add("item-edit"),i.innerHTML="&#128393",c.classList.add("item-remove"),c.innerHTML="&#128465",a.forEach(t=>e.appendChild(t)),n.appendChild(e)},a=()=>{for(;n.childElementCount>0;)n.removeChild(n.lastElementChild);for(;e.childElementCount>0;)e.removeChild(e.lastElementChild)};return{render:t=>{a(),o(),r(),i(t)},clearList:a,destroyItem:t=>{const e=document.querySelector(`[data-item-id="${t}"]`);document.querySelector(".list").removeChild(e)},updateItemRow:(t,e)=>{const n=`[data-item-id="${t}"]`;document.querySelector(n);document.querySelector(`[data-item-title="${t}"]`).textContent=e.title,document.querySelector(`[data-item-date="${t}"]`).textContent=e.dueDate}}})(),c=(()=>{const t=document.querySelector(".main"),e=document.createElement("div"),n=()=>{e.classList.add("projects-column"),t.appendChild(e)},o=()=>{const t=d.projects;r(t[t.length-1])},r=t=>{const n=document.createElement("div");n.textContent=t.title,n.classList.add("column-btn"),n.dataset.id=t.id,e.appendChild(n)};return{render:()=>{if(t.childElementCount<2){console.log("hey"),n(),o(),e.firstElementChild.classList.add("column-btn-selected")}else o()},toggleProjects:e=>{if(t.childElementCount<3){const t=e.target;document.querySelectorAll(".column-btn").forEach(t=>t.classList.remove("column-btn-selected")),t.classList.add("column-btn-selected");const n=t.dataset.id;i.render(n)}},updateProjectBtn:(t,e)=>{document.querySelector(`[data-id="${t}"]`).textContent=e},destroyProject:t=>{const e=document.querySelector(`[data-id="${t}"]`);document.querySelector(".projects-column").removeChild(e)}}})(),a={render:()=>{c.render(),i.render(0)}},l=(()=>{const t=document.querySelector(".main"),e=t=>{const e=d.getProject(t);document.getElementById("title").value=e.title,document.getElementById("description").value=e.description},n=t=>{const e=d.getItem(t);document.getElementById("title").value=e.title,document.getElementById("description").value=e.description,document.getElementById("dueDate").value=e.dueDate,document.getElementById("priority").value=e.priority},o=t=>{t.innerHTML='\n\t\t\t\t<form class="project-form" name="ProjectForm">\n\t\t\t\t\t<h2>Project Information</h2>\n\t\t\t\t\t\n\t\t\t\t\t<label for="title">Title</label>\n\t\t\t\t\t<input type="text" name="title" id="title" autocomplete="off">\n\t\t\t\t\t\n\t\t\t\t\t<label for="description">Description</label>\n\t\t\t\t\t<input type="text" name="description" id="description" autocomplete="off">\n\n\t\t\t\t\t<div class="form-buttons">\n\t\t\t\t\t\t<input type="button" class="button create-project-btn" value="Create">\n\t\t\t\t\t\t<input type="button" class="button cancel" value="Cancel">\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t'},r=t=>{t.innerHTML='\n\t\t\t\t<form class="item-form" name="ItemForm">\n\t\t\t\t\t<h2>Item Information</h2>\n\n\t\t\t\t\t<label for="title">Title</label>\n\t\t\t\t\t<input type="text" name="title" id="title" autocomplete="off">\n\n\t\t\t\t\t<label for="description">Description</label>\n\t\t\t\t\t<input type="text" name="description" id="description" autocomplete="off">\n\n\t\t\t\t\t<label for="dueDate">Due date</label>\n\t\t\t\t\t<input type="date" name="dueDate" id="dueDate">\n\n\t\t\t\t\t<div class="priority">\n\t\t\t\t\t\t<label for="priority">Priority?</label>\n\t\t\t\t\t\t<input type="checkbox" name="priority" id="priority">\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="form-buttons">\n\t\t\t\t\t\t<input type="button" class="button create-item-btn" value="Create">\n\t\t\t\t\t\t<input type="button" class="button cancel" value="Cancel">\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t'};return{show:(n,d="")=>{const i=document.createElement("div");if(i.classList.add("form-div"),"project"===n?o(i):"item"===n&&r(i),t.appendChild(i),Number.isInteger(d)){e(d);const t=document.querySelector(".create-project-btn");t.value="Update",t.classList.add("update-project-btn"),t.classList.remove("create-project-btn")}},remove:()=>{for(;t.childElementCount>2;){const e=document.querySelector(".form-div");t.removeChild(e)}},showItemForm:(e="")=>{const o=document.createElement("div");if(o.classList.add("form-div"),r(o),t.appendChild(o),Number.isInteger(e)){n(e);const t=document.querySelector(".create-item-btn");t.value="Update",t.classList.add("update-item-btn"),t.classList.remove("create-item-btn")}}}})(),s=(()=>{let t=0,e=0;return{listen:()=>{window.addEventListener("click",n=>{switch(n.target.className){case"new-project-btn":l.remove(),l.show("project");break;case"button create-project-btn":d.validateProjectForm()&&(d.createProject(),l.remove(),c.render());break;case"edit-project-btn":l.remove(),l.show("project",t);break;case"button update-project-btn":const o=d.getProject(t);d.updateProject(t),c.updateProjectBtn(t,o.title),l.remove();break;case"destroy-project-btn":d.destroyProjectItems(t),d.destroyProject(t),c.destroyProject(t),i.clearList();break;case"new-item-btn":t=document.querySelector(".column-btn-selected").dataset.id,l.remove(),l.show("item");break;case"button create-item-btn":d.validateItemForm()&&(d.createItem(t),l.remove()),i.render(t);break;case"item-edit":e=parseInt(n.target.parentNode.attributes[1].value),l.remove(),l.showItemForm(e);break;case"button update-item-btn":console.log(e),d.updateItem(e);const r=d._getItemFormData();console.log(r),i.updateItemRow(e,r),l.remove();break;case"item-remove":const a=parseInt(n.target.parentNode.attributes[1].value);d.destroyItem(a),i.destroyItem(a);break;case"button cancel":l.remove();break;case"column-btn":c.toggleProjects(n),t=parseInt(n.target.attributes[1].value)}})}}})();a.render(),s.listen()}]);